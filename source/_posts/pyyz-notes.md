---
title: puuz notes
description: 平邑一中集训笔记
mathjax: true
date: 2021-06-12 20:14:28
updated: 2021-06-20 19:06:50
tags: 
- 集训
- 笔记
hidden: true
---

## 6.9(ZR)

###C

树剖+楼房重建

每条重链开一棵线段树，节点存储区间左端点的 $f$ 值与本段 $f$ 值的 $min$ ，以及 $a$ 值的和及最小后缀和

`pushup` 时类似楼房重建，根据右区间的 $f$ 值能否更新左区间的 $f$ 值判断如何更新 $min$ 值

同时每个节点开一个multiset，记录轻儿子的 $f$ 值

## 6.10(ZR)

###C

先不考虑删穿情况，将双端队列视为双栈，线段树维护栈两侧各自删除与加入数量

当询问第 $k$ 个元素时

若现有序列未被删空，则可以计算出第 $k$ 个元素的所在部位（前端/后端/现有序列）及位置，递归查询即可

若现有序列被删空，则答案一定不在现有序列中，因此不需关注现有序列的具体元素，只需关注长度

因此直接递归到右儿子，将现有序列长度作为变量传入即可

##6.11(jz)

### A

根号重构（ $O(T)$ 与 $O((\dfrac{n}{T})^2*\log(\dfrac{n}{T}))$ 平衡， $O(n\sqrt{n}\log{n})$ ）或莫队（ $O(n\sqrt{n}\log{n})$ ）或 KD-Tree $O(n\sqrt{n})$

前两者吊打后者

###B

退背包，因不互质无法正常退背包

按照 $1,n,2,n-1,...,n/2,n/2+1$ 顺序加入，维护前后缀和合并背包（由于只需一处点值，复杂度为 $O(n^2)$ ）或分治均可

## 6.12

###B

有限生成阿贝尔群基本定理：有限生成阿贝尔群同构于阶为素数幂的群的直和

因此对每个质因子求出拆分数即可

### C

[平面图完美匹配计数](https://www.cnblogs.com/jz-597/p/13935537.html)

##6.13

###C

stO wyz Orzzzzzz

[Lyndon分解](https://blog.csdn.net/luositing/article/details/104090246)

与本题类似但不同

考虑有后向前加入字符，合并前缀使得分段字典序单调不增

如第一段字典序大于第二段，则第一段大于此后所有，答案即为第一段

否则设共有 $n$ 个前缀相等分段

若 $k\mid n$ ，则最后 $\dfrac{n}{k}$ 段接上后缀最大，答案为此段

否则仍旧是前 $\dfrac{n}{k}$ 段最大，答案为前 $\dfrac{n}{k}$ 段

## 6.14

见 ssf notes 4.17

##6.15

###B

确定大小关系即可拆开绝对值

维护分段二次函数

二分出最小值

加入一个变量相当于取前缀最小值/后缀最小值/不操作后全局加二次函数

`deque`维护，打全局加标记即可

##6.17

###A

枚举长度，撒点，区间是lcp之前的lcp与lcs拼起来，或lcs之后的lcs与lcp拼起来

线段树维护区间+1与区间清零即可

### B

多点求值、点分

（优秀的 $n^2$ 多点求值可以通过）

###C

一阶线图：一个点把边缩起来

二阶：一条边缩了两端点的团
