---
title: 校内模拟赛题解
date: 2020-09-20 15:45:40
updated: 2020-09-20 15:45:40
tags:
mathjax: true
password: ezoj2018
---

# sol 9.14

(288/300)

看错大样例是真的离谱。

## A check

没啥可说的， $ans=1^2+2^2+...+n^2=n*(n+1)*(2n+1)/6$

n 1e9 -> ans 1e27 所以需要~~int128~~高精

## B color

BF:DFS选/不选+剪枝

时间复杂度： $O(2^{2n})或O(C_{2n}^{n})$

期望得分：~~30-50~~ 95

（95%的数据 $ans<=10^4$ 可还行）

SOL:meet in the middle

搜索前n个字符那些为红色，由于红蓝字符串相同就可以确定字符串，将此字符串hash，搜索后一半计数即可

时间复杂度： $O(2^n)$

## C triangle

根据皮克定理：多边形面积 A 和内部格点数目 1、边上格点数目 b 的关系为： $A=i+\frac {b}{2}-1$。

如果知道了三角形的三个顶点，容易求出面积，而边上整点数目可以通过gcd求得，即可求得三角形内部顶点数

对于找出图中所有三角形，可使用三元环计数在 $O(n*\sqrt{n})$ 复杂度下解决

因此此题可在 $O(n*\sqrt{n}*\log{n})$ 复杂度下解决

但这样只能得到88分

解决方法是在求三元环枚举点时处理出与相邻点的`gcd`，即可去掉`log`

时间复杂度： $O(n*\sqrt{n})$

# sol 9.17

(150/300)

我怎么又用假数据叉了真算法啊。。。

~~为什么要出毒瘤数据结构啊~~

## A dream

显然，ans为最小生成树+不在最小生成树内的最小的边

时间复杂度： $O(n*\log{n})$

## B tree
 $ans=2*子树内所有边权之和-子树直径$ 

用线段树维护直径，在dfs时合并

若维护最长的向上的链，代码编写较为繁琐

但可维护直径的两个端点，在合并时，直径是四个点中两两距离最大的一组，代码难度较低

时间复杂度：$O(n*\log{n})$

## C jump

dp， $f[i][0/1/2]$ 表示前 $i$ 个格子，上一步跳跃/上一步不跳跃但各点皆能到达/上一步不跳跃且i-1与i不连通的最小代价

转移是较为简易的，讨论即可

时间复杂度：$O(n)$

